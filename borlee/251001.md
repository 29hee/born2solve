**닉네임**: borlee

**문제 플랫폼**: 프로그래머스

**문제 이름 또는 번호**: 배열 만들기 5

**문제 링크**: https://school.programmers.co.kr/learn/courses/30/lessons/181912

**오늘의 메모(선택)**: 
realloc....
 realloc은 size가 0이거나 size바이트만큼 할당할 수 없다면 ptr은 그대로 살려둔채로 NULL을 반환한다. 이 경우 기존 ptr이 사라지면서 힙 영역에 할당된 메모리 주소를 잃어버리게 된다. 따라서 메모리 누수가 발생한다. 즉 다음 코드에서 realloc에 실패하면 buffer는 기존 주소를 잃어버리게 된다. 따라서 기존 주소를 백업해두는 루틴이 필요하다.

**코드(선택)**:

```c
#include <stdio.h>
#include <stdbool.h>
#include <stdlib.h>
#include <string.h>

// intStrs_len은 배열 intStrs의 길이입니다.
// 파라미터로 주어지는 문자열은 const로 주어집니다. 변경하려면 문자열을 복사해서 사용하세요.
int* solution(const char* intStrs[], size_t intStrs_len, int k, int s, int l) 
{
    size_t count = 0;
    
    for (size_t i = 0; i < intStrs_len; i++)
    {
        char part[50];
        int num;
        
        strncpy(part, intStrs[i] + s, l);
        part[l] = '\0';
        num = atoi(part);
        
        if (num > k)
            count++;
    }
    // return 값은 malloc 등 동적 할당을 사용해주세요. 할당 길이는 상황에 맞게 변경해주세요.
    
    int *answer = (int *)malloc(count * sizeof(int));
    if (!answer)
        return NULL;
    
    size_t idx = 0;
    for  (size_t i = 0; i < intStrs_len; i++)
    {
        char part[50];
        int num;
        
        strncpy(part, intStrs[i] + s, l);
        part[l] = '\0';
        num = atoi(part);
        
        if (num > k)
            answer[idx++] = num;
    }
    return answer;
}
```

```c
#include <stdio.h>
#include <stdbool.h>
#include <stdlib.h>
#include <string.h>

// intStrs_len은 배열 intStrs의 길이입니다.
// 파라미터로 주어지는 문자열은 const로 주어집니다. 변경하려면 문자열을 복사해서 사용하세요.
int* solution(const char* intStrs[], size_t intStrs_len, int k, int s, int l) 
{
    // return 값은 malloc 등 동적 할당을 사용해주세요. 할당 길이는 상황에 맞게 변경해주세요.
    size_t count = 0;
    
    int *answer = (int *)malloc(intStrs_len * sizeof(int));
    if (!answer)
        return NULL;
    
    for  (size_t i = 0; i < intStrs_len; i++)
    {
        char part[50];
        int num;
        
        strncpy(part, intStrs[i] + s, l);
        part[l] = '\0';
        num = atoi(part);
        if (num > k)
            answer[count++] = num;
    }
    int *tmp = realloc(answer, count * sizeof(int));
    if (tmp == NULL && count > 0)
    {
        free(answer); 
        return NULL;
    }
    answer = tmp;
    return answer;
}
```
