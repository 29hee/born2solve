**닉네임**: hyeojeon

**문제 플랫폼**: 프로그래머스

**문제 이름 또는 번호**: 주차요금계산

**문제 링크**: https://school.programmers.co.kr/learn/courses/30/lessons/92341?language=cpp

**오늘의 메모(선택)**: .

**코드(선택)**:

```cpp

#include <string>
#include <vector>
#include <map>
#include <cmath>

using namespace std;

int timecnv(string time) {
    int h;
    int m;
    
    h = stoi(time.substr(0,2));
    m = stoi(time.substr(3,2));
     
    return h*60+m;
}

vector<int> solution(vector<int> fees, vector<string> records) {
    vector<int> answer;
    int basetime = fees[0];
    int basecost = fees[1];
    int time = fees[2];
    int cost = fees[3];
    
    map<string, int> mm;
    map<string, int> res;
    
    for(int i = 0; i < records.size(); i++) {
        string st = records[i].substr(0,5);
        int t = timecnv(st);
        string num = records[i].substr(6,4);
        if (records[i].substr(11) == "IN")
            mm[num] = t;
        else {
            int cnt = t-mm[num];
            res[num] += cnt;
            mm.erase(num);
        }
    }
    
    while (!mm.empty()) {
        auto it = mm.begin();
        string num = it->first;
        int t = it->second;
        int cnt = 1439 -t;
        res[num] += cnt;
        mm.erase(num);
    }
    
    for (auto it = res.begin(); it != res.end(); it++) {
        int cnt = it->second;
        if (cnt < basetime) 
            answer.push_back(basecost);
        else
            answer.push_back(basecost + ceil((double)(cnt - basetime) / time) * cost);
    }
    
    return answer;
}

```
